{"remainingRequest":"D:\\广理学习\\JAVA框架项目\\乐字节-云E办\\乐字节-云E办前端\\yeb\\node_modules\\babel-loader\\lib\\index.js!D:\\广理学习\\JAVA框架项目\\乐字节-云E办\\乐字节-云E办前端\\yeb\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\广理学习\\JAVA框架项目\\乐字节-云E办\\乐字节-云E办前端\\yeb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\广理学习\\JAVA框架项目\\乐字节-云E办\\乐字节-云E办前端\\yeb\\src\\components\\sys\\basic\\PosMana.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\广理学习\\JAVA框架项目\\乐字节-云E办\\乐字节-云E办前端\\yeb\\src\\components\\sys\\basic\\PosMana.vue","mtime":1611658510000},{"path":"D:\\广理学习\\JAVA框架项目\\乐字节-云E办\\乐字节-云E办前端\\yeb\\babel.config.js","mtime":1611658510000},{"path":"D:\\广理学习\\JAVA框架项目\\乐字节-云E办\\乐字节-云E办前端\\yeb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\广理学习\\JAVA框架项目\\乐字节-云E办\\乐字节-云E办前端\\yeb\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\广理学习\\JAVA框架项目\\乐字节-云E办\\乐字节-云E办前端\\yeb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\广理学习\\JAVA框架项目\\乐字节-云E办\\乐字节-云E办前端\\yeb\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJQb3NNYW5hIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcG9zOiB7CiAgICAgICAgLy8g5p+l6K+i5re75Yqg6IGM5L2N5pWw5o2uCiAgICAgICAgbmFtZTogJycKICAgICAgfSwKICAgICAgcG9zaXRpb25zOiBbXSwKICAgICAgZGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIHVwZGF0ZVBvczogewogICAgICAgIC8vIOabtOaWsOiBjOS9jeaVsOaNrgogICAgICAgIG5hbWU6ICcnCiAgICAgIH0sCiAgICAgIG11bHRpcGxlU2VsZWN0aW9uOiBbXSAvLyDmibnph4/liKDpmaTli77pgInnmoTlr7nosaEKCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIC8vIOiwg+eUqOiOt+WPluWQjuerr+aOpeWPo+aJgOacieiBjOS9jeaVsOaNruaWueazlQogICAgdGhpcy5pbml0UG9zaXRpb25zKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDmibnph4/liKDpmaTor7fmsYIKICAgIGRlbGV0ZU1hbnk6IGZ1bmN0aW9uIGRlbGV0ZU1hbnkoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLiRjb25maXJtKCfmraTmk43kvZzlsIbmsLjkuYXliKDpmaRbJyArIHRoaXMubXVsdGlwbGVTZWxlY3Rpb24ubGVuZ3RoICsgJ13mnaHogYzkvY0sIOaYr+WQpue7p+e7rT8nLCAn5o+Q56S6JywgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIGlkcyA9ICc/JzsKCiAgICAgICAgX3RoaXMubXVsdGlwbGVTZWxlY3Rpb24uZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgaWRzICs9ICdpZHM9JyArIGl0ZW0uaWQgKyAnJic7CiAgICAgICAgfSk7CgogICAgICAgIF90aGlzLmRlbGV0ZVJlcXVlc3QoJy9zeXN0ZW0vYmFzaWMvcG9zLycgKyBpZHMpLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgICAgIGlmIChyZXNwKSB7CiAgICAgICAgICAgIF90aGlzLmluaXRQb3NpdGlvbnMoKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLiRtZXNzYWdlKHsKICAgICAgICAgIHR5cGU6ICdpbmZvJywKICAgICAgICAgIG1lc3NhZ2U6ICflt7Llj5bmtojliKDpmaQnCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOaJuemHj+WIoOmZpCjlj5blgLzvvIkKICAgIGhhbmRsZVNlbGVjdGlvbkNoYW5nZTogZnVuY3Rpb24gaGFuZGxlU2VsZWN0aW9uQ2hhbmdlKHZhbCkgewogICAgICB0aGlzLm11bHRpcGxlU2VsZWN0aW9uID0gdmFsOyAvLyBjb25zb2xlLmxvZyh2YWwpCiAgICB9LAogICAgLy8g57yW6L6R6IGM5L2NCiAgICBkb1VwZGF0ZTogZnVuY3Rpb24gZG9VcGRhdGUoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy5wdXRSZXF1ZXN0KCcvc3lzdGVtL2Jhc2ljL3Bvcy8nLCB0aGlzLnVwZGF0ZVBvcykudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgICAgIGlmIChyZXNwKSB7CiAgICAgICAgICBfdGhpczIuaW5pdFBvc2l0aW9ucygpOyAvLyDliLfmlrDmlbDmja7liJfooagKCgogICAgICAgICAgX3RoaXMyLmRpYWxvZ1Zpc2libGUgPSBmYWxzZTsgLy8g5YWz6Zet5a+56K+d5qGGCiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvLyDnvJbovpHogYzkvY3lr7nor53moYYKICAgIHNob3dFZGl0VmlldzogZnVuY3Rpb24gc2hvd0VkaXRWaWV3KGluZGV4LCBkYXRhKSB7CiAgICAgIE9iamVjdC5hc3NpZ24odGhpcy51cGRhdGVQb3MsIGRhdGEpOyAvLyDlm57mmL7mlbDmja4s5pWw5o2u5ou36LSdCiAgICAgIC8vIHRoaXMudXBkYXRlUG9zID0gZGF0YSAvLyDlm57mmL7mlbDmja4g5pyJYnVnCgogICAgICB0aGlzLnVwZGF0ZVBvcy5jcmVhdGVEYXRlID0gJyc7CiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IHRydWU7IC8vIOaYvuekuue8lui+keahhgogICAgfSwKICAgIC8vIOa3u+WKoOiBjOS9jQogICAgYWRkUG9zaXRpb246IGZ1bmN0aW9uIGFkZFBvc2l0aW9uKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIGlmICh0aGlzLnBvcy5uYW1lKSB7CiAgICAgICAgdGhpcy5wb3N0UmVxdWVzdCgnL3N5c3RlbS9iYXNpYy9wb3MvJywgdGhpcy5wb3MpLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgICAgIGlmIChyZXNwKSB7CiAgICAgICAgICAgIF90aGlzMy5pbml0UG9zaXRpb25zKCk7CgogICAgICAgICAgICBfdGhpczMucG9zLm5hbWUgPSAnJzsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfogYzkvY3lkI3np7DkuI3og73kuLrnqbrvvIEnKTsKICAgICAgfQogICAgfSwKICAgIC8vIOWIoOmZpOiBjOS9jQogICAgaGFuZGxlRGVsZXRlOiBmdW5jdGlvbiBoYW5kbGVEZWxldGUoaW5kZXgsIGRhdGEpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICB0aGlzLiRjb25maXJtKCfmraTmk43kvZzlsIbmsLjkuYXliKDpmaRbJyArIGRhdGEubmFtZSArICdd6IGM5L2NLCDmmK/lkKbnu6fnu60/JywgJ+aPkOekuicsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzNC5kZWxldGVSZXF1ZXN0KCcgL3N5c3RlbS9iYXNpYy9wb3MvJyArIGRhdGEuaWQpLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgICAgIGlmIChyZXNwKSB7CiAgICAgICAgICAgIF90aGlzNC5pbml0UG9zaXRpb25zKCk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczQuJG1lc3NhZ2UoewogICAgICAgICAgdHlwZTogJ2luZm8nLAogICAgICAgICAgbWVzc2FnZTogJ+W3suWPlua2iOWIoOmZpCcKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g6I635Y+W5ZCO56uv5o6l5Y+j5omA5pyJ6IGM5L2N5pWw5o2uCiAgICBpbml0UG9zaXRpb25zOiBmdW5jdGlvbiBpbml0UG9zaXRpb25zKCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHRoaXMuZ2V0UmVxdWVzdCgnL3N5c3RlbS9iYXNpYy9wb3MvJykudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgICAgIGlmIChyZXNwKSB7CiAgICAgICAgICBfdGhpczUucG9zaXRpb25zID0gcmVzcDsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2EA;AACAA,iBADA;AAEAC,MAFA,kBAEA;AACA;AACAC;AAAA;AACAF;AADA,OADA;AAIAG,mBAJA;AAKAC,0BALA;AAMAC;AAAA;AACAL;AADA,OANA;AASAM,2BATA,CASA;;AATA;AAWA,GAdA;AAeAC,SAfA,qBAeA;AACA;AACA;AACA,GAlBA;AAmBAC;AACA;AACAC,cAFA,wBAEA;AAAA;;AACA;AACAC,+BADA;AAEAC,8BAFA;AAGAC;AAHA,SAIAC,IAJA,CAIA;AACA;;AACA;AACAC;AACA,SAFA;;AAGA;AACA;AACA;AACA;AACA,SAJA;AAKA,OAdA,EAcAC,KAdA,CAcA;AACA;AACAH,sBADA;AAEAI;AAFA;AAIA,OAnBA;AAoBA,KAvBA;AAwBA;AACAC,yBAzBA,iCAyBAC,GAzBA,EAyBA;AACA,mCADA,CAEA;AACA,KA5BA;AA6BA;AACAC,YA9BA,sBA8BA;AAAA;;AACA;AACA;AACA,iCADA,CACA;;;AACA,uCAFA,CAEA;AACA;AACA,OALA;AAMA,KArCA;AAsCA;AACAC,gBAvCA,wBAuCAC,KAvCA,EAuCApB,IAvCA,EAuCA;AACAqB,0CADA,CACA;AACA;;AACA;AACA,gCAJA,CAIA;AACA,KA5CA;AA6CA;AACAC,eA9CA,yBA8CA;AAAA;;AACA;AACA;AACA;AACA;;AACA;AACA;AACA,SALA;AAOA,OARA,MAQA;AACA;AACA;AACA,KA1DA;AA2DA;AACAC,gBA5DA,wBA4DAH,KA5DA,EA4DApB,IA5DA,EA4DA;AAAA;;AACA;AACAS,+BADA;AAEAC,8BAFA;AAGAC;AAHA,SAIAC,IAJA,CAIA;AACA;AACA;AACA;AACA;AACA,SAJA;AAKA,OAVA,EAUAE,KAVA,CAUA;AACA;AACAH,sBADA;AAEAI;AAFA;AAIA,OAfA;AAgBA,KA7EA;AA8EA;AACAS,iBA/EA,2BA+EA;AAAA;;AACA;AACA;AACA;AACA;AACA,OAJA;AAKA;AArFA;AAnBA","names":["name","data","pos","positions","dialogVisible","updatePos","multipleSelection","mounted","methods","deleteMany","confirmButtonText","cancelButtonText","type","then","ids","catch","message","handleSelectionChange","val","doUpdate","showEditView","index","Object","addPosition","handleDelete","initPositions"],"sourceRoot":"src/components/sys/basic","sources":["PosMana.vue"],"sourcesContent":["<template>\n  <div>\n    <div>\n      <el-input\n          size=\"small\"\n          class=\"addPosInput\"\n          placeholder=\"请选择日期\"\n          suffix-icon=\"el-icon-plus\"\n          @keydown.enter.native=\"addPosition\"\n          v-model=\"pos.name\">\n      </el-input>\n      <el-button size=\"small\" icon=\"el-icon-plus\" type=\"primary\" @click=\"addPosition\">添加</el-button>\n    </div>\n    <div class=\"posManaMain\">\n      <el-table\n          border\n          stripe\n          size=\"small\"\n          :data=\"positions\"\n          style=\"width: 70%\"\n          @selection-change=\"handleSelectionChange\">\n        <el-table-column\n            type=\"selection\"\n            width=\"55\">\n        </el-table-column>\n        <el-table-column\n            prop=\"id\"\n            label=\"编号\"\n            width=\"55\">\n        </el-table-column>\n        <el-table-column\n            prop=\"name\"\n            label=\"职位\"\n            width=\"120\">\n        </el-table-column>\n        <el-table-column\n            prop=\"createDate\"\n            label=\"创建时间\"\n            width=\"200\">\n        </el-table-column>\n        <el-table-column label=\"操作\">\n          <template slot-scope=\"scope\">\n            <el-button\n                size=\"mini\"\n                @click=\"showEditView(scope.$index, scope.row)\">编辑\n            </el-button>\n            <el-button\n                size=\"mini\"\n                type=\"danger\"\n                @click=\"handleDelete(scope.$index, scope.row)\">删除\n            </el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n    </div>\n    <!-- :disabled 不禁用条件为勾选中，没勾选中为禁用。 -->\n    <el-button size=\"small\" style=\"margin-top: 8px\" type=\"danger\"\n               :disabled=\"this.multipleSelection.length===0\" @click=\"deleteMany\">批量删除\n    </el-button>\n    <el-dialog\n        title=\"提示\"\n        :visible.sync=\"dialogVisible\"\n        width=\"30%\">\n      <div>\n        <el-tag>职位名称</el-tag>\n        <el-input v-model=\"updatePos.name\" size=\"small\" class=\"updatePosInput\"></el-input>\n      </div>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button size=\"small\" @click=\"dialogVisible = false\">取 消</el-button>\n        <el-button size=\"small\" type=\"primary\" @click=\"doUpdate\">确 定</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n<script>\nexport default {\n  name: \"PosMana\",\n  data() {\n    return {\n      pos: { // 查询添加职位数据\n        name: ''\n      },\n      positions: [],\n      dialogVisible: false,\n      updatePos: { // 更新职位数据\n        name: ''\n      },\n      multipleSelection: [] // 批量删除勾选的对象\n    }\n  },\n  mounted() {\n    // 调用获取后端接口所有职位数据方法\n    this.initPositions()\n  },\n  methods: {\n    // 批量删除请求\n    deleteMany() {\n      this.$confirm('此操作将永久删除[' + this.multipleSelection.length + ']条职位, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        let ids = '?'\n        this.multipleSelection.forEach(item => {\n          ids += 'ids=' + item.id + '&'\n        })\n        this.deleteRequest('/system/basic/pos/' + ids).then(resp => {\n          if (resp) {\n            this.initPositions()\n          }\n        })\n      }).catch(() => {\n        this.$message({\n          type: 'info',\n          message: '已取消删除'\n        });\n      });\n    },\n    // 批量删除(取值）\n    handleSelectionChange(val) {\n      this.multipleSelection = val\n      // console.log(val)\n    },\n    // 编辑职位\n    doUpdate() {\n      this.putRequest('/system/basic/pos/', this.updatePos).then(resp => {\n        if (resp) {\n          this.initPositions() // 刷新数据列表\n          this.dialogVisible = false // 关闭对话框\n        }\n      })\n    },\n    // 编辑职位对话框\n    showEditView(index, data) {\n      Object.assign(this.updatePos, data) // 回显数据,数据拷贝\n      // this.updatePos = data // 回显数据 有bug\n      this.updatePos.createDate = ''\n      this.dialogVisible = true // 显示编辑框\n    },\n    // 添加职位\n    addPosition() {\n      if (this.pos.name) {\n        this.postRequest('/system/basic/pos/', this.pos).then(resp => {\n          if (resp) {\n            this.initPositions()\n            this.pos.name = ''\n          }\n        })\n\n      } else {\n        this.$message.error('职位名称不能为空！')\n      }\n    },\n    // 删除职位\n    handleDelete(index, data) {\n      this.$confirm('此操作将永久删除[' + data.name + ']职位, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        this.deleteRequest(' /system/basic/pos/' + data.id).then(resp => {\n          if (resp) {\n            this.initPositions()\n          }\n        })\n      }).catch(() => {\n        this.$message({\n          type: 'info',\n          message: '已取消删除'\n        });\n      });\n    },\n    // 获取后端接口所有职位数据\n    initPositions() {\n      this.getRequest('/system/basic/pos/').then(resp => {\n        if (resp) {\n          this.positions = resp\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\n/*添加职位输入框*/\n.addPosInput {\n  width: 300px;\n  margin-right: 8px;\n}\n\n/*所有数据表格*/\n.posManaMain {\n  margin-top: 10px;\n}\n\n/*编号职位输入框*/\n.updatePosInput {\n  width: 200px;\n  margin-left: 8px;\n}\n</style>\n"]}]}