{"remainingRequest":"D:\\广理学习\\JAVA框架项目\\乐字节-云E办\\乐字节-云E办前端\\yeb\\node_modules\\babel-loader\\lib\\index.js!D:\\广理学习\\JAVA框架项目\\乐字节-云E办\\乐字节-云E办前端\\yeb\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\广理学习\\JAVA框架项目\\乐字节-云E办\\乐字节-云E办前端\\yeb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\广理学习\\JAVA框架项目\\乐字节-云E办\\乐字节-云E办前端\\yeb\\src\\views\\sal\\SalSobCfg.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\广理学习\\JAVA框架项目\\乐字节-云E办\\乐字节-云E办前端\\yeb\\src\\views\\sal\\SalSobCfg.vue","mtime":1611658510000},{"path":"D:\\广理学习\\JAVA框架项目\\乐字节-云E办\\乐字节-云E办前端\\yeb\\babel.config.js","mtime":1611658510000},{"path":"D:\\广理学习\\JAVA框架项目\\乐字节-云E办\\乐字节-云E办前端\\yeb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\广理学习\\JAVA框架项目\\乐字节-云E办\\乐字节-云E办前端\\yeb\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\广理学习\\JAVA框架项目\\乐字节-云E办\\乐字节-云E办前端\\yeb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\广理学习\\JAVA框架项目\\乐字节-云E办\\乐字节-云E办前端\\yeb\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJTYWxTb2JDZmciLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBlbXBzOiBbXSwKICAgICAgc2FsYXJpZXM6IFtdLAogICAgICAvLyAyLTIg5bel6LWE6LSm5aWX5pWw57uECiAgICAgIGN1cnJlbnRQYWdlOiAxLAogICAgICAvLyAxLTIg5b2T5YmN6aG1CiAgICAgIHNpemU6IDEwLAogICAgICAvLyAxLTIg5q+P6aG15pi+56S65p2h5pWwCiAgICAgIHRvdGFsOiAwLAogICAgICAvLyAxLTIg5YiG6aG1CiAgICAgIGN1cnJlbnRTYWxhcnk6IG51bGwgLy8gMi03IOW9k+WJjeWRmOW3peW3pei1hOi0puWllwoKICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5pbml0RW1wcygpOwogICAgdGhpcy5pbml0U2FsYXJpZXMoKTsgLy8gMi00IOWIneWni+WMliDojrflj5bmiYDmnInlt6XotYTotKblpZcKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIDItMTAKICAgIGhpZGVQb3A6IGZ1bmN0aW9uIGhpZGVQb3AoZGF0YSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgLy8g6ZqQ6JeP5pe26Kem5Y+RCiAgICAgIC8vIOW9k+WJjeWRmOW3peW3pei1hOi0puWll+WtmOWcqCDlubbkuJTkuI3nrYnkuo7lvZPliY3nmoQg5omN5pu05pawCiAgICAgIGlmICh0aGlzLmN1cnJlbnRTYWxhcnkgJiYgdGhpcy5jdXJyZW50U2FsYXJ5ICE9PSBkYXRhLnNhbGFyeS5pZCkgewogICAgICAgIHRoaXMucHV0UmVxdWVzdCgnL3NhbGFyeS9zb2JjZmcvP2VpZD0nICsgZGF0YS5pZCArICcmc2lkPScgKyB0aGlzLmN1cnJlbnRTYWxhcnkpLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgICAgIGlmIChyZXNwKSB7CiAgICAgICAgICAgIF90aGlzLmluaXRFbXBzKCk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICAvLyAyLTgg5ZGY5bel5bel6LWE6LSm5aWXCiAgICBzaG93UG9wOiBmdW5jdGlvbiBzaG93UG9wKGRhdGEpIHsKICAgICAgLy8g5pi+56S65pe26Kem5Y+RCiAgICAgIGlmIChkYXRhKSB7CiAgICAgICAgdGhpcy5jdXJyZW50U2FsYXJ5ID0gZGF0YS5pZDsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmN1cnJlbnRTYWxhcnkgPSBudWxsOwogICAgICB9CiAgICB9LAogICAgLy8gMi0zIOiOt+WPluaJgOacieW3pei1hOi0puWllwogICAgaW5pdFNhbGFyaWVzOiBmdW5jdGlvbiBpbml0U2FsYXJpZXMoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy5nZXRSZXF1ZXN0KCcvc2FsYXJ5L3NvYmNmZy9zYWxhcmllcycpLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgICBpZiAocmVzcCkgewogICAgICAgICAgX3RoaXMyLnNhbGFyaWVzID0gcmVzcDsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8vIDEtMyDliIbpobUt5b2T5YmN6aG1CiAgICBjdXJyZW50Q2hhbmdlOiBmdW5jdGlvbiBjdXJyZW50Q2hhbmdlKHBhZ2UpIHsKICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IHBhZ2U7CiAgICAgIHRoaXMuaW5pdEVtcHMoKTsKICAgIH0sCiAgICAvLyAxLTQg5YiG6aG1Leavj+mhteaYvuekuuaVsOmHjwogICAgc2l6ZUNoYW5nZTogZnVuY3Rpb24gc2l6ZUNoYW5nZShzaXplKSB7CiAgICAgIHRoaXMuc2l6ZSA9IHNpemU7CiAgICAgIHRoaXMuaW5pdEVtcHMoKTsKICAgIH0sCiAgICAvLyDojrflj5bmiYDmnInmlbDmja4KICAgIGluaXRFbXBzOiBmdW5jdGlvbiBpbml0RW1wcygpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB0aGlzLmdldFJlcXVlc3QoJy9zYWxhcnkvc29iY2ZnLz9jdXJyZW50UGFnZT0nICsgdGhpcy5jdXJyZW50UGFnZSArICcmc2l6ZT0nICsgdGhpcy5zaXplKS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgICAgaWYgKHJlc3ApIHsKICAgICAgICAgIF90aGlzMy5lbXBzID0gcmVzcC5kYXRhOwogICAgICAgICAgX3RoaXMzLnRvdGFsID0gcmVzcC50b3RhbDsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6IA;AACAA,mBADA;AAEAC,MAFA,kBAEA;AACA;AACAC,cADA;AAEAC,kBAFA;AAEA;AACAC,oBAHA;AAGA;AACAC,cAJA;AAIA;AACAC,cALA;AAKA;AACAC,yBANA,CAMA;;AANA;AAQA,GAXA;AAYAC,SAZA,qBAYA;AACA;AACA,wBAFA,CAEA;AACA,GAfA;AAgBAC;AACA;AACAC,WAFA,mBAEAT,IAFA,EAEA;AAAA;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAJA;AAKA;AACA,KAXA;AAYA;AACAU,WAbA,mBAaAV,IAbA,EAaA;AAAA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KAnBA;AAoBA;AACAW,gBArBA,0BAqBA;AAAA;;AACA;AACA;AACA;AACA;AACA,OAJA;AAKA,KA3BA;AA4BA;AACAC,iBA7BA,yBA6BAC,IA7BA,EA6BA;AACA;AACA;AACA,KAhCA;AAiCA;AACAC,cAlCA,sBAkCAV,IAlCA,EAkCA;AACA;AACA;AACA,KArCA;AAsCA;AACAW,YAvCA,sBAuCA;AAAA;;AACA;AACA;AACA;AACA;AACA;AACA,OALA;AAMA;AA9CA;AAhBA","names":["name","data","emps","salaries","currentPage","size","total","currentSalary","mounted","methods","hidePop","showPop","initSalaries","currentChange","page","sizeChange","initEmps"],"sourceRoot":"src/views/sal","sources":["SalSobCfg.vue"],"sourcesContent":["<template>\n  <div>\n    <el-table\n        size=\"mini\"\n        :data=\"emps\"\n        stripe\n        border>\n      <el-table-column\n          align=\"left\"\n          type=\"selection\"\n          width=\"55\">\n      </el-table-column>\n      <el-table-column\n          prop=\"name\"\n          label=\"姓名\"\n          align=\"left\"\n          fixed\n          width=\"120\">\n      </el-table-column>\n      <el-table-column\n          prop=\"workId\"\n          label=\"工号\"\n          align=\"left\"\n          width=\"120\">\n      </el-table-column>\n      <el-table-column\n          prop=\"email\"\n          label=\"邮箱地址\"\n          align=\"left\"\n          width=\"200\">\n      </el-table-column>\n      <el-table-column\n          prop=\"phone\"\n          label=\"电话号码\"\n          align=\"left\"\n          width=\"120\">\n      </el-table-column>\n      <el-table-column\n          prop=\"department.name\"\n          label=\"所属部门\"\n          align=\"left\"\n          width=\"120\">\n      </el-table-column>\n      <el-table-column\n          label=\"工资账套\"\n          align=\"center\">\n        <template slot-scope=\"scope\">\n          <el-tooltip placement=\"right\" v-if=\"scope.row.salary\">\n            <div slot=\"content\">\n              <table>\n                <tr>\n                  <td>基本工资</td>\n                  <td>{{ scope.row.salary.basicSalary }}</td>\n                </tr>\n                <tr>\n                  <td>交通补助</td>\n                  <td>{{ scope.row.salary.trafficSalary }}</td>\n                </tr>\n                <tr>\n                  <td>午餐补助</td>\n                  <td>{{ scope.row.salary.lunchSalary }}</td>\n                </tr>\n                <tr>\n                  <td>奖金</td>\n                  <td>{{ scope.row.salary.bonus }}</td>\n                </tr>\n                <tr>\n                  <td>养老金比率</td>\n                  <td>{{ scope.row.salary.pensionPer }}</td>\n                </tr>\n                <tr>\n                  <td>养老金基数</td>\n                  <td>{{ scope.row.salary.pensionBase }}</td>\n                </tr>\n                <tr>\n                  <td>医疗保险比率</td>\n                  <td>{{ scope.row.salary.medicalPer }}</td>\n                </tr>\n                <tr>\n                  <td>医疗保险基数</td>\n                  <td>{{ scope.row.salary.medicalBase }}</td>\n                </tr>\n                <tr>\n                  <td>公积金比率</td>\n                  <td>{{ scope.row.salary.accumulationFundPer }}</td>\n                </tr>\n                <tr>\n                  <td>公积金基数</td>\n                  <td>{{ scope.row.salary.accumulationFundBase }}</td>\n                </tr>\n              </table>\n            </div>\n            <el-tag>{{ scope.row.salary.name }}</el-tag>\n          </el-tooltip>\n          <el-tag v-else>暂未设置</el-tag>\n        </template>\n      </el-table-column>\n      <!-- 2-1 编辑工资账套 -->\n      <el-table-column\n          label=\"操作\"\n          align=\"center\">\n        <template slot-scope=\"scope\">\n          <!-- 2-5 当前员工的工资账套 @show=\"showPop(scope.row.salary)\" show\t显示时触发 -->\n          <!-- 2-9 @hide=\"hidePop(scope.row)\" hide\t隐藏时触发 -->\n          <el-popover\n              size=\"mini\"\n              @show=\"showPop(scope.row.salary)\"\n              @hide=\"hidePop(scope.row)\"\n              placement=\"right\"\n              title=\"编辑工资账套\"\n              width=\"200\"\n              trigger=\"click\">\n            <div>\n              <!-- 2-6  v-model=\"currentSalary\" -->\n              <el-select v-model=\"currentSalary\" placeholder=\"请选择\">\n                <el-option\n                    size=\"mini\"\n                    v-for=\"item in salaries\"\n                    :key=\"item.id\"\n                    :label=\"item.name\"\n                    :value=\"item.id\">\n                </el-option>\n              </el-select>\n            </div>\n            <el-button slot=\"reference\" type=\"danger\">修改工资账套</el-button>\n          </el-popover>\n        </template>\n      </el-table-column>\n    </el-table>\n    <!-- 1-1 分页组件 -->\n    <div style=\"display: flex;justify-content: flex-end;margin-top: 5px;\">\n      <el-pagination\n          @size-change=\"sizeChange\"\n          @current-change=\"currentChange\"\n          layout=\"total, sizes, prev, pager, next, jumper\"\n          :total=\"total\" background>\n      </el-pagination>\n    </div>\n  </div>\n</template>\n<script>\nexport default {\n  name: \"SalSobCfg\",\n  data() {\n    return {\n      emps: [],\n      salaries: [], // 2-2 工资账套数组\n      currentPage: 1, // 1-2 当前页\n      size: 10, // 1-2 每页显示条数\n      total: 0, // 1-2 分页\n      currentSalary: null // 2-7 当前员工工资账套\n    }\n  },\n  mounted() {\n    this.initEmps()\n    this.initSalaries() // 2-4 初始化 获取所有工资账套\n  },\n  methods: {\n    // 2-10\n    hidePop(data) { // 隐藏时触发\n      // 当前员工工资账套存在 并且不等于当前的 才更新\n      if (this.currentSalary && this.currentSalary!==data.salary.id) {\n        this.putRequest('/salary/sobcfg/?eid=' + data.id + '&sid=' + this.currentSalary).then(resp => {\n          if (resp) {\n            this.initEmps()\n          }\n        });\n      }\n    },\n    // 2-8 员工工资账套\n    showPop(data) { // 显示时触发\n      if (data) {\n        this.currentSalary = data.id;\n      } else {\n        this.currentSalary = null\n      }\n    },\n    // 2-3 获取所有工资账套\n    initSalaries() {\n      this.getRequest('/salary/sobcfg/salaries').then(resp => {\n        if (resp) {\n          this.salaries = resp\n        }\n      })\n    },\n    // 1-3 分页-当前页\n    currentChange(page) {\n      this.currentPage = page\n      this.initEmps()\n    },\n    // 1-4 分页-每页显示数量\n    sizeChange(size) {\n      this.size = size\n      this.initEmps()\n    },\n    // 获取所有数据\n    initEmps() {\n      this.getRequest('/salary/sobcfg/?currentPage=' + this.currentPage + '&size=' + this.size).then(resp => {\n        if (resp) {\n          this.emps = resp.data\n          this.total = resp.total\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n"]}]}