{"remainingRequest":"D:\\广理学习\\JAVA框架项目\\乐字节-云E办\\乐字节-云E办前端\\yeb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\广理学习\\JAVA框架项目\\乐字节-云E办\\乐字节-云E办前端\\yeb\\src\\components\\sys\\basic\\PosMana.vue?vue&type=style&index=0&id=7c224bd0&scoped=true&lang=css&","dependencies":[{"path":"D:\\广理学习\\JAVA框架项目\\乐字节-云E办\\乐字节-云E办前端\\yeb\\src\\components\\sys\\basic\\PosMana.vue","mtime":1611658510000},{"path":"D:\\广理学习\\JAVA框架项目\\乐字节-云E办\\乐字节-云E办前端\\yeb\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\广理学习\\JAVA框架项目\\乐字节-云E办\\乐字节-云E办前端\\yeb\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\广理学习\\JAVA框架项目\\乐字节-云E办\\乐字节-云E办前端\\yeb\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\广理学习\\JAVA框架项目\\乐字节-云E办\\乐字节-云E办前端\\yeb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\广理学习\\JAVA框架项目\\乐字节-云E办\\乐字节-云E办前端\\yeb\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgovKua3u+WKoOiBjOS9jei+k+WFpeahhiovCi5hZGRQb3NJbnB1dCB7CiAgd2lkdGg6IDMwMHB4OwogIG1hcmdpbi1yaWdodDogOHB4Owp9CgovKuaJgOacieaVsOaNruihqOagvCovCi5wb3NNYW5hTWFpbiB7CiAgbWFyZ2luLXRvcDogMTBweDsKfQoKLyrnvJblj7fogYzkvY3ovpPlhaXmoYYqLwoudXBkYXRlUG9zSW5wdXQgewogIHdpZHRoOiAyMDBweDsKICBtYXJnaW4tbGVmdDogOHB4Owp9Cg=="},{"version":3,"sources":["PosMana.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyLA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"PosMana.vue","sourceRoot":"src/components/sys/basic","sourcesContent":["<template>\n  <div>\n    <div>\n      <el-input\n          size=\"small\"\n          class=\"addPosInput\"\n          placeholder=\"请选择日期\"\n          suffix-icon=\"el-icon-plus\"\n          @keydown.enter.native=\"addPosition\"\n          v-model=\"pos.name\">\n      </el-input>\n      <el-button size=\"small\" icon=\"el-icon-plus\" type=\"primary\" @click=\"addPosition\">添加</el-button>\n    </div>\n    <div class=\"posManaMain\">\n      <el-table\n          border\n          stripe\n          size=\"small\"\n          :data=\"positions\"\n          style=\"width: 70%\"\n          @selection-change=\"handleSelectionChange\">\n        <el-table-column\n            type=\"selection\"\n            width=\"55\">\n        </el-table-column>\n        <el-table-column\n            prop=\"id\"\n            label=\"编号\"\n            width=\"55\">\n        </el-table-column>\n        <el-table-column\n            prop=\"name\"\n            label=\"职位\"\n            width=\"120\">\n        </el-table-column>\n        <el-table-column\n            prop=\"createDate\"\n            label=\"创建时间\"\n            width=\"200\">\n        </el-table-column>\n        <el-table-column label=\"操作\">\n          <template slot-scope=\"scope\">\n            <el-button\n                size=\"mini\"\n                @click=\"showEditView(scope.$index, scope.row)\">编辑\n            </el-button>\n            <el-button\n                size=\"mini\"\n                type=\"danger\"\n                @click=\"handleDelete(scope.$index, scope.row)\">删除\n            </el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n    </div>\n    <!-- :disabled 不禁用条件为勾选中，没勾选中为禁用。 -->\n    <el-button size=\"small\" style=\"margin-top: 8px\" type=\"danger\"\n               :disabled=\"this.multipleSelection.length===0\" @click=\"deleteMany\">批量删除\n    </el-button>\n    <el-dialog\n        title=\"提示\"\n        :visible.sync=\"dialogVisible\"\n        width=\"30%\">\n      <div>\n        <el-tag>职位名称</el-tag>\n        <el-input v-model=\"updatePos.name\" size=\"small\" class=\"updatePosInput\"></el-input>\n      </div>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button size=\"small\" @click=\"dialogVisible = false\">取 消</el-button>\n        <el-button size=\"small\" type=\"primary\" @click=\"doUpdate\">确 定</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n<script>\nexport default {\n  name: \"PosMana\",\n  data() {\n    return {\n      pos: { // 查询添加职位数据\n        name: ''\n      },\n      positions: [],\n      dialogVisible: false,\n      updatePos: { // 更新职位数据\n        name: ''\n      },\n      multipleSelection: [] // 批量删除勾选的对象\n    }\n  },\n  mounted() {\n    // 调用获取后端接口所有职位数据方法\n    this.initPositions()\n  },\n  methods: {\n    // 批量删除请求\n    deleteMany() {\n      this.$confirm('此操作将永久删除[' + this.multipleSelection.length + ']条职位, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        let ids = '?'\n        this.multipleSelection.forEach(item => {\n          ids += 'ids=' + item.id + '&'\n        })\n        this.deleteRequest('/system/basic/pos/' + ids).then(resp => {\n          if (resp) {\n            this.initPositions()\n          }\n        })\n      }).catch(() => {\n        this.$message({\n          type: 'info',\n          message: '已取消删除'\n        });\n      });\n    },\n    // 批量删除(取值）\n    handleSelectionChange(val) {\n      this.multipleSelection = val\n      // console.log(val)\n    },\n    // 编辑职位\n    doUpdate() {\n      this.putRequest('/system/basic/pos/', this.updatePos).then(resp => {\n        if (resp) {\n          this.initPositions() // 刷新数据列表\n          this.dialogVisible = false // 关闭对话框\n        }\n      })\n    },\n    // 编辑职位对话框\n    showEditView(index, data) {\n      Object.assign(this.updatePos, data) // 回显数据,数据拷贝\n      // this.updatePos = data // 回显数据 有bug\n      this.updatePos.createDate = ''\n      this.dialogVisible = true // 显示编辑框\n    },\n    // 添加职位\n    addPosition() {\n      if (this.pos.name) {\n        this.postRequest('/system/basic/pos/', this.pos).then(resp => {\n          if (resp) {\n            this.initPositions()\n            this.pos.name = ''\n          }\n        })\n\n      } else {\n        this.$message.error('职位名称不能为空！')\n      }\n    },\n    // 删除职位\n    handleDelete(index, data) {\n      this.$confirm('此操作将永久删除[' + data.name + ']职位, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        this.deleteRequest(' /system/basic/pos/' + data.id).then(resp => {\n          if (resp) {\n            this.initPositions()\n          }\n        })\n      }).catch(() => {\n        this.$message({\n          type: 'info',\n          message: '已取消删除'\n        });\n      });\n    },\n    // 获取后端接口所有职位数据\n    initPositions() {\n      this.getRequest('/system/basic/pos/').then(resp => {\n        if (resp) {\n          this.positions = resp\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\n/*添加职位输入框*/\n.addPosInput {\n  width: 300px;\n  margin-right: 8px;\n}\n\n/*所有数据表格*/\n.posManaMain {\n  margin-top: 10px;\n}\n\n/*编号职位输入框*/\n.updatePosInput {\n  width: 200px;\n  margin-left: 8px;\n}\n</style>\n"]}]}