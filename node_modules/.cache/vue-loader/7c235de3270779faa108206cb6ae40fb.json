{"remainingRequest":"D:\\广理学习\\JAVA框架项目\\乐字节-云E办\\乐字节-云E办前端\\yeb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\广理学习\\JAVA框架项目\\乐字节-云E办\\乐字节-云E办前端\\yeb\\src\\components\\sys\\basic\\PosMana.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\广理学习\\JAVA框架项目\\乐字节-云E办\\乐字节-云E办前端\\yeb\\src\\components\\sys\\basic\\PosMana.vue","mtime":1611658510000},{"path":"D:\\广理学习\\JAVA框架项目\\乐字节-云E办\\乐字节-云E办前端\\yeb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\广理学习\\JAVA框架项目\\乐字节-云E办\\乐字节-云E办前端\\yeb\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\广理学习\\JAVA框架项目\\乐字节-云E办\\乐字节-云E办前端\\yeb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\广理学习\\JAVA框架项目\\乐字节-云E办\\乐字节-云E办前端\\yeb\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiUG9zTWFuYSIsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHBvczogeyAvLyDmn6Xor6Lmt7vliqDogYzkvY3mlbDmja4KICAgICAgICBuYW1lOiAnJwogICAgICB9LAogICAgICBwb3NpdGlvbnM6IFtdLAogICAgICBkaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgdXBkYXRlUG9zOiB7IC8vIOabtOaWsOiBjOS9jeaVsOaNrgogICAgICAgIG5hbWU6ICcnCiAgICAgIH0sCiAgICAgIG11bHRpcGxlU2VsZWN0aW9uOiBbXSAvLyDmibnph4/liKDpmaTli77pgInnmoTlr7nosaEKICAgIH0KICB9LAogIG1vdW50ZWQoKSB7CiAgICAvLyDosIPnlKjojrflj5blkI7nq6/mjqXlj6PmiYDmnInogYzkvY3mlbDmja7mlrnms5UKICAgIHRoaXMuaW5pdFBvc2l0aW9ucygpCiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDmibnph4/liKDpmaTor7fmsYIKICAgIGRlbGV0ZU1hbnkoKSB7CiAgICAgIHRoaXMuJGNvbmZpcm0oJ+atpOaTjeS9nOWwhuawuOS5heWIoOmZpFsnICsgdGhpcy5tdWx0aXBsZVNlbGVjdGlvbi5sZW5ndGggKyAnXeadoeiBjOS9jSwg5piv5ZCm57un57utPycsICfmj5DnpLonLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAogICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICB9KS50aGVuKCgpID0+IHsKICAgICAgICBsZXQgaWRzID0gJz8nCiAgICAgICAgdGhpcy5tdWx0aXBsZVNlbGVjdGlvbi5mb3JFYWNoKGl0ZW0gPT4gewogICAgICAgICAgaWRzICs9ICdpZHM9JyArIGl0ZW0uaWQgKyAnJicKICAgICAgICB9KQogICAgICAgIHRoaXMuZGVsZXRlUmVxdWVzdCgnL3N5c3RlbS9iYXNpYy9wb3MvJyArIGlkcykudGhlbihyZXNwID0+IHsKICAgICAgICAgIGlmIChyZXNwKSB7CiAgICAgICAgICAgIHRoaXMuaW5pdFBvc2l0aW9ucygpCiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgfSkuY2F0Y2goKCkgPT4gewogICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgdHlwZTogJ2luZm8nLAogICAgICAgICAgbWVzc2FnZTogJ+W3suWPlua2iOWIoOmZpCcKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5om56YeP5Yig6ZmkKOWPluWAvO+8iQogICAgaGFuZGxlU2VsZWN0aW9uQ2hhbmdlKHZhbCkgewogICAgICB0aGlzLm11bHRpcGxlU2VsZWN0aW9uID0gdmFsCiAgICAgIC8vIGNvbnNvbGUubG9nKHZhbCkKICAgIH0sCiAgICAvLyDnvJbovpHogYzkvY0KICAgIGRvVXBkYXRlKCkgewogICAgICB0aGlzLnB1dFJlcXVlc3QoJy9zeXN0ZW0vYmFzaWMvcG9zLycsIHRoaXMudXBkYXRlUG9zKS50aGVuKHJlc3AgPT4gewogICAgICAgIGlmIChyZXNwKSB7CiAgICAgICAgICB0aGlzLmluaXRQb3NpdGlvbnMoKSAvLyDliLfmlrDmlbDmja7liJfooagKICAgICAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IGZhbHNlIC8vIOWFs+mXreWvueivneahhgogICAgICAgIH0KICAgICAgfSkKICAgIH0sCiAgICAvLyDnvJbovpHogYzkvY3lr7nor53moYYKICAgIHNob3dFZGl0VmlldyhpbmRleCwgZGF0YSkgewogICAgICBPYmplY3QuYXNzaWduKHRoaXMudXBkYXRlUG9zLCBkYXRhKSAvLyDlm57mmL7mlbDmja4s5pWw5o2u5ou36LSdCiAgICAgIC8vIHRoaXMudXBkYXRlUG9zID0gZGF0YSAvLyDlm57mmL7mlbDmja4g5pyJYnVnCiAgICAgIHRoaXMudXBkYXRlUG9zLmNyZWF0ZURhdGUgPSAnJwogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSB0cnVlIC8vIOaYvuekuue8lui+keahhgogICAgfSwKICAgIC8vIOa3u+WKoOiBjOS9jQogICAgYWRkUG9zaXRpb24oKSB7CiAgICAgIGlmICh0aGlzLnBvcy5uYW1lKSB7CiAgICAgICAgdGhpcy5wb3N0UmVxdWVzdCgnL3N5c3RlbS9iYXNpYy9wb3MvJywgdGhpcy5wb3MpLnRoZW4ocmVzcCA9PiB7CiAgICAgICAgICBpZiAocmVzcCkgewogICAgICAgICAgICB0aGlzLmluaXRQb3NpdGlvbnMoKQogICAgICAgICAgICB0aGlzLnBvcy5uYW1lID0gJycKICAgICAgICAgIH0KICAgICAgICB9KQoKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfogYzkvY3lkI3np7DkuI3og73kuLrnqbrvvIEnKQogICAgICB9CiAgICB9LAogICAgLy8g5Yig6Zmk6IGM5L2NCiAgICBoYW5kbGVEZWxldGUoaW5kZXgsIGRhdGEpIHsKICAgICAgdGhpcy4kY29uZmlybSgn5q2k5pON5L2c5bCG5rC45LmF5Yig6ZmkWycgKyBkYXRhLm5hbWUgKyAnXeiBjOS9jSwg5piv5ZCm57un57utPycsICfmj5DnpLonLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAogICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICB9KS50aGVuKCgpID0+IHsKICAgICAgICB0aGlzLmRlbGV0ZVJlcXVlc3QoJyAvc3lzdGVtL2Jhc2ljL3Bvcy8nICsgZGF0YS5pZCkudGhlbihyZXNwID0+IHsKICAgICAgICAgIGlmIChyZXNwKSB7CiAgICAgICAgICAgIHRoaXMuaW5pdFBvc2l0aW9ucygpCiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgfSkuY2F0Y2goKCkgPT4gewogICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgdHlwZTogJ2luZm8nLAogICAgICAgICAgbWVzc2FnZTogJ+W3suWPlua2iOWIoOmZpCcKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g6I635Y+W5ZCO56uv5o6l5Y+j5omA5pyJ6IGM5L2N5pWw5o2uCiAgICBpbml0UG9zaXRpb25zKCkgewogICAgICB0aGlzLmdldFJlcXVlc3QoJy9zeXN0ZW0vYmFzaWMvcG9zLycpLnRoZW4ocmVzcCA9PiB7CiAgICAgICAgaWYgKHJlc3ApIHsKICAgICAgICAgIHRoaXMucG9zaXRpb25zID0gcmVzcAogICAgICAgIH0KICAgICAgfSkKICAgIH0KICB9Cn0K"},{"version":3,"sources":["PosMana.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PosMana.vue","sourceRoot":"src/components/sys/basic","sourcesContent":["<template>\n  <div>\n    <div>\n      <el-input\n          size=\"small\"\n          class=\"addPosInput\"\n          placeholder=\"请选择日期\"\n          suffix-icon=\"el-icon-plus\"\n          @keydown.enter.native=\"addPosition\"\n          v-model=\"pos.name\">\n      </el-input>\n      <el-button size=\"small\" icon=\"el-icon-plus\" type=\"primary\" @click=\"addPosition\">添加</el-button>\n    </div>\n    <div class=\"posManaMain\">\n      <el-table\n          border\n          stripe\n          size=\"small\"\n          :data=\"positions\"\n          style=\"width: 70%\"\n          @selection-change=\"handleSelectionChange\">\n        <el-table-column\n            type=\"selection\"\n            width=\"55\">\n        </el-table-column>\n        <el-table-column\n            prop=\"id\"\n            label=\"编号\"\n            width=\"55\">\n        </el-table-column>\n        <el-table-column\n            prop=\"name\"\n            label=\"职位\"\n            width=\"120\">\n        </el-table-column>\n        <el-table-column\n            prop=\"createDate\"\n            label=\"创建时间\"\n            width=\"200\">\n        </el-table-column>\n        <el-table-column label=\"操作\">\n          <template slot-scope=\"scope\">\n            <el-button\n                size=\"mini\"\n                @click=\"showEditView(scope.$index, scope.row)\">编辑\n            </el-button>\n            <el-button\n                size=\"mini\"\n                type=\"danger\"\n                @click=\"handleDelete(scope.$index, scope.row)\">删除\n            </el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n    </div>\n    <!-- :disabled 不禁用条件为勾选中，没勾选中为禁用。 -->\n    <el-button size=\"small\" style=\"margin-top: 8px\" type=\"danger\"\n               :disabled=\"this.multipleSelection.length===0\" @click=\"deleteMany\">批量删除\n    </el-button>\n    <el-dialog\n        title=\"提示\"\n        :visible.sync=\"dialogVisible\"\n        width=\"30%\">\n      <div>\n        <el-tag>职位名称</el-tag>\n        <el-input v-model=\"updatePos.name\" size=\"small\" class=\"updatePosInput\"></el-input>\n      </div>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button size=\"small\" @click=\"dialogVisible = false\">取 消</el-button>\n        <el-button size=\"small\" type=\"primary\" @click=\"doUpdate\">确 定</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n<script>\nexport default {\n  name: \"PosMana\",\n  data() {\n    return {\n      pos: { // 查询添加职位数据\n        name: ''\n      },\n      positions: [],\n      dialogVisible: false,\n      updatePos: { // 更新职位数据\n        name: ''\n      },\n      multipleSelection: [] // 批量删除勾选的对象\n    }\n  },\n  mounted() {\n    // 调用获取后端接口所有职位数据方法\n    this.initPositions()\n  },\n  methods: {\n    // 批量删除请求\n    deleteMany() {\n      this.$confirm('此操作将永久删除[' + this.multipleSelection.length + ']条职位, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        let ids = '?'\n        this.multipleSelection.forEach(item => {\n          ids += 'ids=' + item.id + '&'\n        })\n        this.deleteRequest('/system/basic/pos/' + ids).then(resp => {\n          if (resp) {\n            this.initPositions()\n          }\n        })\n      }).catch(() => {\n        this.$message({\n          type: 'info',\n          message: '已取消删除'\n        });\n      });\n    },\n    // 批量删除(取值）\n    handleSelectionChange(val) {\n      this.multipleSelection = val\n      // console.log(val)\n    },\n    // 编辑职位\n    doUpdate() {\n      this.putRequest('/system/basic/pos/', this.updatePos).then(resp => {\n        if (resp) {\n          this.initPositions() // 刷新数据列表\n          this.dialogVisible = false // 关闭对话框\n        }\n      })\n    },\n    // 编辑职位对话框\n    showEditView(index, data) {\n      Object.assign(this.updatePos, data) // 回显数据,数据拷贝\n      // this.updatePos = data // 回显数据 有bug\n      this.updatePos.createDate = ''\n      this.dialogVisible = true // 显示编辑框\n    },\n    // 添加职位\n    addPosition() {\n      if (this.pos.name) {\n        this.postRequest('/system/basic/pos/', this.pos).then(resp => {\n          if (resp) {\n            this.initPositions()\n            this.pos.name = ''\n          }\n        })\n\n      } else {\n        this.$message.error('职位名称不能为空！')\n      }\n    },\n    // 删除职位\n    handleDelete(index, data) {\n      this.$confirm('此操作将永久删除[' + data.name + ']职位, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        this.deleteRequest(' /system/basic/pos/' + data.id).then(resp => {\n          if (resp) {\n            this.initPositions()\n          }\n        })\n      }).catch(() => {\n        this.$message({\n          type: 'info',\n          message: '已取消删除'\n        });\n      });\n    },\n    // 获取后端接口所有职位数据\n    initPositions() {\n      this.getRequest('/system/basic/pos/').then(resp => {\n        if (resp) {\n          this.positions = resp\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\n/*添加职位输入框*/\n.addPosInput {\n  width: 300px;\n  margin-right: 8px;\n}\n\n/*所有数据表格*/\n.posManaMain {\n  margin-top: 10px;\n}\n\n/*编号职位输入框*/\n.updatePosInput {\n  width: 200px;\n  margin-left: 8px;\n}\n</style>\n"]}]}