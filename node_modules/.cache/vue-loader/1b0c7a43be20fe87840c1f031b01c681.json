{"remainingRequest":"D:\\广理学习\\JAVA框架项目\\乐字节-云E办\\乐字节-云E办前端\\yeb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\广理学习\\JAVA框架项目\\乐字节-云E办\\乐字节-云E办前端\\yeb\\src\\views\\sal\\SalSobCfg.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\广理学习\\JAVA框架项目\\乐字节-云E办\\乐字节-云E办前端\\yeb\\src\\views\\sal\\SalSobCfg.vue","mtime":1611658510000},{"path":"D:\\广理学习\\JAVA框架项目\\乐字节-云E办\\乐字节-云E办前端\\yeb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\广理学习\\JAVA框架项目\\乐字节-云E办\\乐字节-云E办前端\\yeb\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\广理学习\\JAVA框架项目\\乐字节-云E办\\乐字节-云E办前端\\yeb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\广理学习\\JAVA框架项目\\乐字节-云E办\\乐字节-云E办前端\\yeb\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiU2FsU29iQ2ZnIiwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZW1wczogW10sCiAgICAgIHNhbGFyaWVzOiBbXSwgLy8gMi0yIOW3pei1hOi0puWll+aVsOe7hAogICAgICBjdXJyZW50UGFnZTogMSwgLy8gMS0yIOW9k+WJjemhtQogICAgICBzaXplOiAxMCwgLy8gMS0yIOavj+mhteaYvuekuuadoeaVsAogICAgICB0b3RhbDogMCwgLy8gMS0yIOWIhumhtQogICAgICBjdXJyZW50U2FsYXJ5OiBudWxsIC8vIDItNyDlvZPliY3lkZjlt6Xlt6XotYTotKblpZcKICAgIH0KICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmluaXRFbXBzKCkKICAgIHRoaXMuaW5pdFNhbGFyaWVzKCkgLy8gMi00IOWIneWni+WMliDojrflj5bmiYDmnInlt6XotYTotKblpZcKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIDItMTAKICAgIGhpZGVQb3AoZGF0YSkgeyAvLyDpmpDol4/ml7bop6blj5EKICAgICAgLy8g5b2T5YmN5ZGY5bel5bel6LWE6LSm5aWX5a2Y5ZyoIOW5tuS4lOS4jeetieS6juW9k+WJjeeahCDmiY3mm7TmlrAKICAgICAgaWYgKHRoaXMuY3VycmVudFNhbGFyeSAmJiB0aGlzLmN1cnJlbnRTYWxhcnkhPT1kYXRhLnNhbGFyeS5pZCkgewogICAgICAgIHRoaXMucHV0UmVxdWVzdCgnL3NhbGFyeS9zb2JjZmcvP2VpZD0nICsgZGF0YS5pZCArICcmc2lkPScgKyB0aGlzLmN1cnJlbnRTYWxhcnkpLnRoZW4ocmVzcCA9PiB7CiAgICAgICAgICBpZiAocmVzcCkgewogICAgICAgICAgICB0aGlzLmluaXRFbXBzKCkKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIC8vIDItOCDlkZjlt6Xlt6XotYTotKblpZcKICAgIHNob3dQb3AoZGF0YSkgeyAvLyDmmL7npLrml7bop6blj5EKICAgICAgaWYgKGRhdGEpIHsKICAgICAgICB0aGlzLmN1cnJlbnRTYWxhcnkgPSBkYXRhLmlkOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuY3VycmVudFNhbGFyeSA9IG51bGwKICAgICAgfQogICAgfSwKICAgIC8vIDItMyDojrflj5bmiYDmnInlt6XotYTotKblpZcKICAgIGluaXRTYWxhcmllcygpIHsKICAgICAgdGhpcy5nZXRSZXF1ZXN0KCcvc2FsYXJ5L3NvYmNmZy9zYWxhcmllcycpLnRoZW4ocmVzcCA9PiB7CiAgICAgICAgaWYgKHJlc3ApIHsKICAgICAgICAgIHRoaXMuc2FsYXJpZXMgPSByZXNwCiAgICAgICAgfQogICAgICB9KQogICAgfSwKICAgIC8vIDEtMyDliIbpobUt5b2T5YmN6aG1CiAgICBjdXJyZW50Q2hhbmdlKHBhZ2UpIHsKICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IHBhZ2UKICAgICAgdGhpcy5pbml0RW1wcygpCiAgICB9LAogICAgLy8gMS00IOWIhumhtS3mr4/pobXmmL7npLrmlbDph48KICAgIHNpemVDaGFuZ2Uoc2l6ZSkgewogICAgICB0aGlzLnNpemUgPSBzaXplCiAgICAgIHRoaXMuaW5pdEVtcHMoKQogICAgfSwKICAgIC8vIOiOt+WPluaJgOacieaVsOaNrgogICAgaW5pdEVtcHMoKSB7CiAgICAgIHRoaXMuZ2V0UmVxdWVzdCgnL3NhbGFyeS9zb2JjZmcvP2N1cnJlbnRQYWdlPScgKyB0aGlzLmN1cnJlbnRQYWdlICsgJyZzaXplPScgKyB0aGlzLnNpemUpLnRoZW4ocmVzcCA9PiB7CiAgICAgICAgaWYgKHJlc3ApIHsKICAgICAgICAgIHRoaXMuZW1wcyA9IHJlc3AuZGF0YQogICAgICAgICAgdGhpcy50b3RhbCA9IHJlc3AudG90YWwKICAgICAgICB9CiAgICAgIH0pCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["SalSobCfg.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SalSobCfg.vue","sourceRoot":"src/views/sal","sourcesContent":["<template>\n  <div>\n    <el-table\n        size=\"mini\"\n        :data=\"emps\"\n        stripe\n        border>\n      <el-table-column\n          align=\"left\"\n          type=\"selection\"\n          width=\"55\">\n      </el-table-column>\n      <el-table-column\n          prop=\"name\"\n          label=\"姓名\"\n          align=\"left\"\n          fixed\n          width=\"120\">\n      </el-table-column>\n      <el-table-column\n          prop=\"workId\"\n          label=\"工号\"\n          align=\"left\"\n          width=\"120\">\n      </el-table-column>\n      <el-table-column\n          prop=\"email\"\n          label=\"邮箱地址\"\n          align=\"left\"\n          width=\"200\">\n      </el-table-column>\n      <el-table-column\n          prop=\"phone\"\n          label=\"电话号码\"\n          align=\"left\"\n          width=\"120\">\n      </el-table-column>\n      <el-table-column\n          prop=\"department.name\"\n          label=\"所属部门\"\n          align=\"left\"\n          width=\"120\">\n      </el-table-column>\n      <el-table-column\n          label=\"工资账套\"\n          align=\"center\">\n        <template slot-scope=\"scope\">\n          <el-tooltip placement=\"right\" v-if=\"scope.row.salary\">\n            <div slot=\"content\">\n              <table>\n                <tr>\n                  <td>基本工资</td>\n                  <td>{{ scope.row.salary.basicSalary }}</td>\n                </tr>\n                <tr>\n                  <td>交通补助</td>\n                  <td>{{ scope.row.salary.trafficSalary }}</td>\n                </tr>\n                <tr>\n                  <td>午餐补助</td>\n                  <td>{{ scope.row.salary.lunchSalary }}</td>\n                </tr>\n                <tr>\n                  <td>奖金</td>\n                  <td>{{ scope.row.salary.bonus }}</td>\n                </tr>\n                <tr>\n                  <td>养老金比率</td>\n                  <td>{{ scope.row.salary.pensionPer }}</td>\n                </tr>\n                <tr>\n                  <td>养老金基数</td>\n                  <td>{{ scope.row.salary.pensionBase }}</td>\n                </tr>\n                <tr>\n                  <td>医疗保险比率</td>\n                  <td>{{ scope.row.salary.medicalPer }}</td>\n                </tr>\n                <tr>\n                  <td>医疗保险基数</td>\n                  <td>{{ scope.row.salary.medicalBase }}</td>\n                </tr>\n                <tr>\n                  <td>公积金比率</td>\n                  <td>{{ scope.row.salary.accumulationFundPer }}</td>\n                </tr>\n                <tr>\n                  <td>公积金基数</td>\n                  <td>{{ scope.row.salary.accumulationFundBase }}</td>\n                </tr>\n              </table>\n            </div>\n            <el-tag>{{ scope.row.salary.name }}</el-tag>\n          </el-tooltip>\n          <el-tag v-else>暂未设置</el-tag>\n        </template>\n      </el-table-column>\n      <!-- 2-1 编辑工资账套 -->\n      <el-table-column\n          label=\"操作\"\n          align=\"center\">\n        <template slot-scope=\"scope\">\n          <!-- 2-5 当前员工的工资账套 @show=\"showPop(scope.row.salary)\" show\t显示时触发 -->\n          <!-- 2-9 @hide=\"hidePop(scope.row)\" hide\t隐藏时触发 -->\n          <el-popover\n              size=\"mini\"\n              @show=\"showPop(scope.row.salary)\"\n              @hide=\"hidePop(scope.row)\"\n              placement=\"right\"\n              title=\"编辑工资账套\"\n              width=\"200\"\n              trigger=\"click\">\n            <div>\n              <!-- 2-6  v-model=\"currentSalary\" -->\n              <el-select v-model=\"currentSalary\" placeholder=\"请选择\">\n                <el-option\n                    size=\"mini\"\n                    v-for=\"item in salaries\"\n                    :key=\"item.id\"\n                    :label=\"item.name\"\n                    :value=\"item.id\">\n                </el-option>\n              </el-select>\n            </div>\n            <el-button slot=\"reference\" type=\"danger\">修改工资账套</el-button>\n          </el-popover>\n        </template>\n      </el-table-column>\n    </el-table>\n    <!-- 1-1 分页组件 -->\n    <div style=\"display: flex;justify-content: flex-end;margin-top: 5px;\">\n      <el-pagination\n          @size-change=\"sizeChange\"\n          @current-change=\"currentChange\"\n          layout=\"total, sizes, prev, pager, next, jumper\"\n          :total=\"total\" background>\n      </el-pagination>\n    </div>\n  </div>\n</template>\n<script>\nexport default {\n  name: \"SalSobCfg\",\n  data() {\n    return {\n      emps: [],\n      salaries: [], // 2-2 工资账套数组\n      currentPage: 1, // 1-2 当前页\n      size: 10, // 1-2 每页显示条数\n      total: 0, // 1-2 分页\n      currentSalary: null // 2-7 当前员工工资账套\n    }\n  },\n  mounted() {\n    this.initEmps()\n    this.initSalaries() // 2-4 初始化 获取所有工资账套\n  },\n  methods: {\n    // 2-10\n    hidePop(data) { // 隐藏时触发\n      // 当前员工工资账套存在 并且不等于当前的 才更新\n      if (this.currentSalary && this.currentSalary!==data.salary.id) {\n        this.putRequest('/salary/sobcfg/?eid=' + data.id + '&sid=' + this.currentSalary).then(resp => {\n          if (resp) {\n            this.initEmps()\n          }\n        });\n      }\n    },\n    // 2-8 员工工资账套\n    showPop(data) { // 显示时触发\n      if (data) {\n        this.currentSalary = data.id;\n      } else {\n        this.currentSalary = null\n      }\n    },\n    // 2-3 获取所有工资账套\n    initSalaries() {\n      this.getRequest('/salary/sobcfg/salaries').then(resp => {\n        if (resp) {\n          this.salaries = resp\n        }\n      })\n    },\n    // 1-3 分页-当前页\n    currentChange(page) {\n      this.currentPage = page\n      this.initEmps()\n    },\n    // 1-4 分页-每页显示数量\n    sizeChange(size) {\n      this.size = size\n      this.initEmps()\n    },\n    // 获取所有数据\n    initEmps() {\n      this.getRequest('/salary/sobcfg/?currentPage=' + this.currentPage + '&size=' + this.size).then(resp => {\n        if (resp) {\n          this.emps = resp.data\n          this.total = resp.total\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n"]}]}