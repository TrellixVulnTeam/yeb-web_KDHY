{"remainingRequest":"D:\\广理学习\\JAVA框架项目\\乐字节-云E办\\乐字节-云E办前端\\yeb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\广理学习\\JAVA框架项目\\乐字节-云E办\\乐字节-云E办前端\\yeb\\src\\views\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\广理学习\\JAVA框架项目\\乐字节-云E办\\乐字节-云E办前端\\yeb\\src\\views\\Login.vue","mtime":1611658510000},{"path":"D:\\广理学习\\JAVA框架项目\\乐字节-云E办\\乐字节-云E办前端\\yeb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\广理学习\\JAVA框架项目\\乐字节-云E办\\乐字节-云E办前端\\yeb\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\广理学习\\JAVA框架项目\\乐字节-云E办\\乐字节-云E办前端\\yeb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\广理学习\\JAVA框架项目\\乐字节-云E办\\乐字节-云E办前端\\yeb\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnTG9naW4nLAogIGNvbXBvbmVudHM6IHt9LAogIHByb3BzOiBbXSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgLy8g6aqM6K+B56CBCiAgICAgIGNhcHRjaGFVcmw6ICcvY2FwdGNoYT90aW1lPScgKyBuZXcgRGF0ZSgpLAogICAgICBsb2dpbkZvcm06IHsKICAgICAgICB1c2VybmFtZTogJ2FkbWluJywKICAgICAgICBwYXNzd29yZDogJzEyMycsCiAgICAgICAgY29kZTogJycsCiAgICAgIH0sCiAgICAgIGxvYWRpbmc6IGZhbHNlLCAvLyDliqDovb3kuK0KICAgICAgY2hlY2tlZDogdHJ1ZSwKICAgICAgcnVsZXM6IHsKICAgICAgICB1c2VybmFtZTogW3tyZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpeeUqOaIt+WQjScsIHRyaWdnZXI6ICdibHVyJ31dLAogICAgICAgIHBhc3N3b3JkOiBbe3JlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36L6T5YWl5a+G56CBJywgdHJpZ2dlcjogJ2JsdXInfV0sCiAgICAgICAgY29kZTogW3tyZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpemqjOivgeeggScsIHRyaWdnZXI6ICdibHVyJ31dCiAgICAgIH0KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOeCueWHu+WIt+aWsOmqjOivgeeggQogICAgdXBkYXRlQ2FwdGNoYSgpIHsKICAgICAgdGhpcy5jYXB0Y2hhVXJsID0gJy9jYXB0Y2hhP3RpbWU9JyArIG5ldyBEYXRlKCkKICAgIH0sCiAgICBzdWJtaXRMb2dpbigpIHsKICAgICAgLy8g55m75b2VCiAgICAgIHRoaXMuJHJlZnMubG9naW5Gb3JtLnZhbGlkYXRlKCh2YWxpZCkgPT4gewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZQogICAgICAgICAgLy8gYWxlcnQoJ3N1Ym1pdCEnKQogICAgICAgICAgdGhpcy5wb3N0UmVxdWVzdCgnL2xvZ2luJywgdGhpcy5sb2dpbkZvcm0pLnRoZW4ocmVzcCA9PiB7CiAgICAgICAgICAgIC8vIGFsZXJ0KEpTT04uc3RyaW5naWZ5KHJlc3ApKTsKICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2UKICAgICAgICAgICAgaWYgKHJlc3ApIHsKICAgICAgICAgICAgICAvLyDlrZjlgqjnlKjmiLcgdG9rZW4g5YiwIHNlc3Npb25TdG9yYWdlCiAgICAgICAgICAgICAgY29uc3QgdG9rZW5TdHIgPSByZXNwLm9iai50b2tlbkhlYWQgKyByZXNwLm9iai50b2tlbgogICAgICAgICAgICAgIHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCd0b2tlblN0cicsIHRva2VuU3RyKQogICAgICAgICAgICAgIC8vIOi3s+i9rOWIsOmmlumhtQogICAgICAgICAgICAgIC8vIHRoaXMuJHJvdXRlci5wdXNoKCcvaG9tZScpIC8vIOi3r+eUsei3s+i9rO+8jOWPr+S7peWbnumAgOWIsOS4iuS4gOmhtQogICAgICAgICAgICAgIC8vIHRoaXMuJHJvdXRlci5yZXBsYWNlKCcvaG9tZScpIC8vIOi3r+W+hOabv+aNou+8jOaXoOazleWbnumAgOWIsOS4iuS4gOmhtQoKICAgICAgICAgICAgICAvLyDpobXpnaLot7PovawKICAgICAgICAgICAgICAvLyDmi7/liLDnlKjmiLfopoHot7PovaznmoTot6/lvoQKICAgICAgICAgICAgICBsZXQgcGF0aCA9IHRoaXMuJHJvdXRlLnF1ZXJ5LnJlZGlyZWN0OwogICAgICAgICAgICAgIC8vIOeUqOaIt+WPr+iDvei+k+WFpemmlumhteWcsOWdgOaIlumUmeivr+WcsOWdgO+8jOiuqeS7lui3s+WIsOmmlumhte+8jOWQpuWImei3s+i9rOWIsOS7lui+k+WFpeeahOWcsOWdgAogICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5yZXBsYWNlKChwYXRoID09PSAnLycgfHwgcGF0aCA9PT0gdW5kZWZpbmVkKSA/ICcvaG9tZScgOiBwYXRoKQogICAgICAgICAgICB9CgogICAgICAgICAgfSkKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign6K+36L6T5YWl5omA5pyJ5a2X5q6177yBJykKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0pCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <el-form\n        v-loading=\"loading\"\n        element-loading-text=\"正在登录......\"\n        element-loading-spinner=\"el-icon-loading\"\n        element-loading-background=\"rgba(0, 0, 0, 0.8)\"\n        ref=\"loginForm\" :model=\"loginForm\" :rules=\"rules\" class=\"loginContainer\">\n      <h3 class=\"loginTitle\">系统登录</h3>\n      <!-- 自动补全 auto-complete=\"false\" -->\n      <el-form-item prop=\"username\">\n        <el-input type=\"text\" auto-complete=\"false\" v-model=\"loginForm.username\" placeholder=\"请输入用户名\"></el-input>\n      </el-form-item>\n      <el-form-item prop=\"password\">\n        <el-input type=\"password\" auto-complete=\"false\" v-model=\"loginForm.password\" placeholder=\"请输入密码\"></el-input>\n      </el-form-item>\n      <el-form-item prop=\"code\">\n        <el-input type=\"text\" auto-complete=\"false\" v-model=\"loginForm.code\" placeholder=\"点击图片更换验证码\"\n                  style=\"width: 250px;margin-right: 5px;\"></el-input>\n        <img :src=\"captchaUrl\" @click=\"updateCaptcha\">\n      </el-form-item>\n      <el-checkbox v-model=\"checked\" class=\"loginRemember\">记住我</el-checkbox>\n      <el-button type=\"primary\" style=\"width: 100%\" @click=\"submitLogin\">登录</el-button>\n    </el-form>\n  </div>\n</template>\n<script>\nexport default {\n  name: 'Login',\n  components: {},\n  props: [],\n  data() {\n    return {\n      // 验证码\n      captchaUrl: '/captcha?time=' + new Date(),\n      loginForm: {\n        username: 'admin',\n        password: '123',\n        code: '',\n      },\n      loading: false, // 加载中\n      checked: true,\n      rules: {\n        username: [{required: true, message: '请输入用户名', trigger: 'blur'}],\n        password: [{required: true, message: '请输入密码', trigger: 'blur'}],\n        code: [{required: true, message: '请输入验证码', trigger: 'blur'}]\n      }\n    }\n  },\n  methods: {\n    // 点击刷新验证码\n    updateCaptcha() {\n      this.captchaUrl = '/captcha?time=' + new Date()\n    },\n    submitLogin() {\n      // 登录\n      this.$refs.loginForm.validate((valid) => {\n        if (valid) {\n          this.loading = true\n          // alert('submit!')\n          this.postRequest('/login', this.loginForm).then(resp => {\n            // alert(JSON.stringify(resp));\n            this.loading = false\n            if (resp) {\n              // 存储用户 token 到 sessionStorage\n              const tokenStr = resp.obj.tokenHead + resp.obj.token\n              window.sessionStorage.setItem('tokenStr', tokenStr)\n              // 跳转到首页\n              // this.$router.push('/home') // 路由跳转，可以回退到上一页\n              // this.$router.replace('/home') // 路径替换，无法回退到上一页\n\n              // 页面跳转\n              // 拿到用户要跳转的路径\n              let path = this.$route.query.redirect;\n              // 用户可能输入首页地址或错误地址，让他跳到首页，否则跳转到他输入的地址\n              this.$router.replace((path === '/' || path === undefined) ? '/home' : path)\n            }\n\n          })\n        } else {\n          this.$message.error('请输入所有字段！')\n          return false;\n        }\n      })\n    }\n  }\n}\n</script>\n<style>\n.loginContainer {\n  border-radius: 15px;\n  background-clip: padding-box;\n  /*属性规定背景的绘制区域 背景被裁剪到内边距框。 margin: 180 px auto;*/\n  margin: 180px auto;\n  width: 350px;\n  padding: 15px 35px;\n  background: #fff;\n  border: 1px solid #eaeaea;\n  box-shadow: 0 0 25px #cac6c6;\n}\n\n.loginTitle {\n  margin: 0 auto 40px auto;\n  text-align: center;\n}\n\n.loginRemember {\n  text-align: left;\n  margin: 0 0 15px 0;\n}\n\n/*验证码*/\n.el-form-item__content {\n  display: flex;\n  align-items: center;\n}\n</style>\n"]}]}